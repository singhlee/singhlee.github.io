---
layout: post
title: jvm面试题
date:   2020-08-02 
categories: 
  - 面试题
  - java
  - jvm
  
---
## JVM内存模型
当编写完Java代码时，即产生 .java文件，会通过Java编译器编译为.class 文件，然后通过Class Loader把类信息加载到JVM中，最后JVM再去调用操作系统。
![jvmn内存模型](/_site/images/posts/jvm内存模型.jpg)

### 程序计数器(线程私有)：
  是当前线程所执行的字节码的行号指示器，每条线程都有一个独立的程序计数器，当字节码解释器工作时，就是通过改变计数器的值来选取下一条需要执行的字节码指令。
  如果一个线程正在执行的是Java方法，则程序计数器记录的是正在执行的字节码指令的地址；如果正在执行的是 native 本地方法，则程序计数器记录的是 Undefined 。

### java 虚拟机栈(线程私有):
 每当线程创建的时候，都会创建一个私有的Java虚拟机栈。
 Java栈中保存了局部变量和方法参数等，同时和Java方法的调用、返回密切相关。
 每个方法在执行的时候也会创建一个栈帧，存储了局部变量，操作数，动态链接，方法返回地址。
 每个方法从调用到执行完毕，对应一个栈帧在虚拟机栈中的入栈和出栈。
 如果线程请求的栈深度大于虚拟机所允许的深度，则StackOverflowError。
 如果虚拟机栈可以动态扩展，扩展到无法申请足够的内存，则OutOfMemoryError。